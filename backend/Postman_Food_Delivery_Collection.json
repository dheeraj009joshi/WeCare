{
  "info": {
    "name": "WeCure Food Delivery API",
    "description": "Complete API collection for WeCure Food Delivery System",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5000/api/food-delivery-complete",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "adminToken",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "1. Authentication",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\",\n  \"phone\": \"9876543210\"\n}"
            },
            "url": {
              "raw": "http://localhost:5000/api/auth/register",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.token) {",
                  "        pm.collectionVariables.set('authToken', response.token);",
                  "        console.log('Auth token saved:', response.token);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "http://localhost:5000/api/auth/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Login Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.success && response.token) {",
                  "        pm.collectionVariables.set('adminToken', response.token);",
                  "        console.log('Admin token saved:', response.token);",
                  "    }",
                  "}"
                ]
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@wecure.com\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "http://localhost:5000/api/auth/login",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "auth", "login"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "2. Public Endpoints",
      "item": [
        {
          "name": "Get Categories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/categories",
              "host": ["{{baseUrl}}"],
              "path": ["categories"]
            }
          },
          "response": []
        },
        {
          "name": "Get Restaurants",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/restaurants",
              "host": ["{{baseUrl}}"],
              "path": ["restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "Get Restaurants with Filters",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/restaurants?category=khichdi&minRating=4.0&isOpen=true",
              "host": ["{{baseUrl}}"],
              "path": ["restaurants"],
              "query": [
                {
                  "key": "category",
                  "value": "khichdi"
                },
                {
                  "key": "minRating",
                  "value": "4.0"
                },
                {
                  "key": "isOpen",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Restaurant by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/restaurants/1",
              "host": ["{{baseUrl}}"],
              "path": ["restaurants", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Get Menu Items",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/restaurants/1/menu",
              "host": ["{{baseUrl}}"],
              "path": ["restaurants", "1", "menu"]
            }
          },
          "response": []
        },
        {
          "name": "Search",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/search?q=khichdi&type=all",
              "host": ["{{baseUrl}}"],
              "path": ["search"],
              "query": [
                {
                  "key": "q",
                  "value": "khichdi"
                },
                {
                  "key": "type",
                  "value": "all"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "3. Cart Operations (Protected)",
      "item": [
        {
          "name": "Get Cart",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/cart",
              "host": ["{{baseUrl}}"],
              "path": ["cart"]
            }
          },
          "response": []
        },
        {
          "name": "Add to Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"menuItemId\": 1,\n  \"restaurantId\": 1,\n  \"quantity\": 2,\n  \"specialInstructions\": \"Extra spicy please\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cart/add",
              "host": ["{{baseUrl}}"],
              "path": ["cart", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Cart Item",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 3\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/cart/1",
              "host": ["{{baseUrl}}"],
              "path": ["cart", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Remove from Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/cart/1",
              "host": ["{{baseUrl}}"],
              "path": ["cart", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Clear Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/cart",
              "host": ["{{baseUrl}}"],
              "path": ["cart"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "4. Order Operations (Protected)",
      "item": [
        {
          "name": "Create Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"deliveryAddress\": {\n    \"fullName\": \"John Doe\",\n    \"phone\": \"9876543210\",\n    \"address\": \"123 Main Street, Mumbai\",\n    \"city\": \"Mumbai\",\n    \"pincode\": \"400001\"\n  },\n  \"paymentMethod\": \"cod\",\n  \"deliveryInstructions\": \"Ring the doorbell twice\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            }
          },
          "response": []
        },
        {
          "name": "Get Order by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/1",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Changed my mind\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders/1/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "1", "cancel"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "5. Payment Operations (Protected)",
      "item": [
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": 1,\n  \"paymentMethod\": \"card\",\n  \"amount\": 150.00,\n  \"paymentDetails\": {\n    \"cardNumber\": \"4111111111111111\",\n    \"expiryDate\": \"12/25\",\n    \"cvv\": \"123\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payment/process",
              "host": ["{{baseUrl}}"],
              "path": ["payment", "process"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "6. Admin Operations",
      "item": [
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/dashboard/stats",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "dashboard", "stats"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Orders (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/admin/orders",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "orders"]
            }
          },
          "response": []
        },
        {
          "name": "Update Order Status",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"preparing\",\n  \"estimatedDeliveryTime\": \"2024-01-15T14:30:00Z\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/orders/1/status",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "orders", "1", "status"]
            }
          },
          "response": []
        },
        {
          "name": "Create Category",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Healthy Snacks\",\n  \"identifier\": \"healthy-snacks\",\n  \"description\": \"Nutritious and healthy snack options\",\n  \"image\": \"https://example.com/snacks.jpg\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/categories",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "categories"]
            }
          },
          "response": []
        },
        {
          "name": "Create Restaurant",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Restaurant\",\n  \"category\": \"khichdi\",\n  \"cuisine\": \"Indian\",\n  \"rating\": 4.5,\n  \"deliveryTime\": \"25 mins\",\n  \"priceRange\": \"₹100-₹200\",\n  \"image\": \"https://example.com/restaurant.jpg\",\n  \"description\": \"Test restaurant for API testing\",\n  \"address\": \"123 Test Street, Mumbai\",\n  \"phone\": \"9876543210\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/restaurants",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "restaurants"]
            }
          },
          "response": []
        },
        {
          "name": "Create Menu Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Khichdi\",\n  \"description\": \"Test khichdi for API testing\",\n  \"price\": 120.00,\n  \"restaurantId\": 1,\n  \"category\": \"main\",\n  \"isVegetarian\": true,\n  \"isVegan\": false,\n  \"calories\": 300\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/admin/menu-items",
              "host": ["{{baseUrl}}"],
              "path": ["admin", "menu-items"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "7. Data Seeding",
      "item": [
        {
          "name": "Get Seeding Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:5000/api/food-delivery-seeder/status",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "food-delivery-seeder", "status"]
            }
          },
          "response": []
        },
        {
          "name": "Seed All Data",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "http://localhost:5000/api/food-delivery-seeder/all",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "food-delivery-seeder", "all"]
            }
          },
          "response": []
        },
        {
          "name": "Clear All Data",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminToken}}"
              }
            ],
            "url": {
              "raw": "http://localhost:5000/api/food-delivery-seeder/all",
              "protocol": "http",
              "host": ["localhost"],
              "port": "5000",
              "path": ["api", "food-delivery-seeder", "all"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
